diff --git a/src/main/scala/rocket/RocketCore.scala b/src/main/scala/rocket/RocketCore.scala
index 55600919..1e1701fb 100644
--- a/src/main/scala/rocket/RocketCore.scala
+++ b/src/main/scala/rocket/RocketCore.scala
@@ -250,6 +250,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
     val id_rs_R0 = id_raddr.map(rf.read _)
     id_vrs(0) := id_vrs_R0(0)
     id_vrs_0 := id_vrs_R0(0)
+     if (!enableCommitLog)
     printf ("[checkcachecounter]%d num %d idecode is in 2 [mem_cmd %d mem %b vec %b !wxd %b scatter_gather %b]  @@@@@@@@@@@@@@@@@@@@@@@@@@@@@ %x id_rs [%d %d] [%d %d] id_vrs [%d %x] [%d %x]\n",csr.io.vl,number_of_elements,id_ctrl.mem_cmd, id_ctrl.mem, id_ctrl.vec, !id_ctrl.wxd,id_ctrl.scatter_gather, id_inst(0),id_raddr(0), id_rs_R0(0), id_raddr(1),id_rs_R0(1), id_vraddr(0), id_vrs_R0(0), id_vraddr(1), id_vrs_R0(1))
 
   }.elsewhen (isRead(id_ctrl.mem_cmd) && id_ctrl.mem && id_ctrl.vec && id_ctrl.wxd && !id_ctrl.scatter_gather )
@@ -262,6 +263,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
     val id_rs_R0 = id_raddr.map(rf.read _)
     id_vrs(1) := id_vrs_R1(1)
     id_vrs_1 := id_vrs_R1(1)
+      
     printf ("[checkcachecounter]%d  num %d idecode is in 3 [mem_cmd %d mem %b vec_vec %b vec_scalar %b wxd %b !scatter_gather %b] @@@@@@@@@@@@@@@@@@@@@@@@@@@@@ %x id_rs [%d %d] [%d %d] id_vrs [%d %x] [%d %x]\n",csr.io.vl,number_of_elements, id_ctrl.mem_cmd, id_ctrl.mem, id_ctrl.vec,id_ctrl.vec_scalar, id_ctrl.wxd,!id_ctrl.scatter_gather,id_inst(0),id_raddr(0), id_rs_R0(0), id_raddr(1),id_rs_R0(1), id_vraddr(0), id_vrs_R1(0), id_vraddr(1), id_vrs_R1(1))
 
   }.elsewhen (isRead(id_ctrl.mem_cmd) && id_ctrl.mem && id_ctrl.vec && id_ctrl.wxd && id_ctrl.scatter_gather )
@@ -274,6 +276,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
     val id_rs_R0 = id_raddr.map(rf.read _)
     id_vrs(1) := id_vrs_R1(1)
     id_vrs_1 := id_vrs_R1(1)
+      
     printf ("[checkcachecounter]%d num %d idecode is in 4 [mem_cmd %d mem %b vec %b vec_scalar %b wxd %b scatter_gather %b] @@@@@@@@@@@@@@@@@@@@@@@@@@@@@ %x id_rs [%d %d] [%d %d] id_vrs [%d %x] [%d %x]\n",csr.io.vl, number_of_elements, id_ctrl.mem_cmd, id_ctrl.mem, id_ctrl.vec, id_ctrl.vec_scalar,id_ctrl.wxd,id_ctrl.scatter_gather,id_inst(0),id_raddr(0), id_rs_R0(0), id_raddr(1),id_rs_R0(1), id_vraddr(0), id_vrs_R1(0), id_vraddr(1), id_vrs_R1(1))
   }.otherwise {
 
@@ -298,7 +301,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 //  when(id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
   printf ("[checkcachecounter] regs### %d %d %d rd %d  id_raddr(0,1) %d %d id_vraddr(0,1) %d %d id_rs %x %x id_vrs %x %x %x   \n", id_raddr1, id_raddr2, id_raddr3, id_waddr, id_raddr(0), id_raddr(1), id_vraddr(0), id_vraddr(1), id_rs(0), id_rs(1), id_vrs(0), id_vrs(1), id_vrs(2))
 
   }
@@ -487,7 +490,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 // when(id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
   printf("[checkcachecounter] id_raddr %d %d %d ex reg1 %x reg2 %x reg3 %x valid %b\n", id_raddr1, id_raddr2, id_raddr3, ex_vrs(0), ex_vrs(1), ex_vrs(2), vector_unit.io.req.valid)
 
 }
@@ -657,8 +660,8 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
-  printf("[checkcachecounter] csr.io.vl %d element# %d Riiiiiiiiight just strides ****** prev_ctr-stalld %b larray [vld %x vsd %x] <== ex_vrs %x %x ex_rs %d %d constantstrided [vld %d vsd %d]   unit_stride %b [ex_raddr2(%d) ===0]  reg_stride_vld %x reg_vsd_stride %x \n", csr.io.vl,number_of_elements, prev_ctrl_stalld,stride_vld_array, stride_vsd_array,ex_vrs(0), ex_vrs(1),ex_rs(0), ex_rs(1),stride_vld, stride_vsd, ex_raddr2 === UInt(0),ex_raddr2, reg_stride_vld_array, reg_stride_vsd_array)
+  
+  printf("[checkcachecounterfuncs] csr.io.vl %d element# %d Riiiiiiiiight just strides ****** prev_ctr-stalld %b larray [vld %x vsd %x] <== ex_vrs %x %x ex_rs %d %d constantstrided [vld %d vsd %d]   unit_stride %b [ex_raddr2(%d) ===0]  reg_stride_vld %x reg_vsd_stride %x \n", csr.io.vl,number_of_elements, prev_ctrl_stalld,stride_vld_array, stride_vsd_array,ex_vrs(0), ex_vrs(1),ex_rs(0), ex_rs(1),stride_vld, stride_vsd, ex_raddr2 === UInt(0),ex_raddr2, reg_stride_vld_array, reg_stride_vsd_array)
 
   }
 
@@ -743,8 +746,8 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 //    when(id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
-      printf("[checkcachecounter]:))))))))))))))  vrf_mem_value  %x  io.dmem.resp %x  vec_scalar %b   stride1 %b temp_vrf_mem_value %x\n", vrf_mem_value, io.dmem.resp.bits.DcacheCpu_data, wb_ctrl.vec_scalar, stride_vld === UInt(1), temp_vrf_mem_value)
+  
+      printf("[checkcachecounterfuncs]:))))))))))))))  vrf_mem_value  %x  io.dmem.resp %x  vec_scalar %b   stride1 %b temp_vrf_mem_value %x\n", vrf_mem_value, io.dmem.resp.bits.DcacheCpu_data, wb_ctrl.vec_scalar, stride_vld === UInt(1), temp_vrf_mem_value)
     }
    // printf("[checkcachecounter] i am inside first part\n")
   }
@@ -761,8 +764,8 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 // when(id_inst(0) === "h0005c58b".U || ex_reg_inst ===  "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h000a470b".U || ex_reg_inst === "h000a470b".U || mem_reg_inst === "h000a470b".U || wb_reg_inst === "h000a470b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
-  printf("[checkcachecounter] wb_ctrl.mem %b wb_ctrl.vec %b io.dmem.resp.valid %b io.dmem.resp.bits.addr %x return_addr %x extracted_bits %x cnt_cache %d offset %d (%d) vrf_offset %d tempvrf %x vrf %x\n",wb_ctrl.mem,wb_ctrl.vec,io.dmem.resp.valid,io.dmem.resp.bits.addr, io.dmem.resp.bits.return_addr, extracted_bits, cnt_cache, offset_bit_extraction, io.dmem.resp.bits.return_addr(4,0) * UInt(8),offset_vrf_reg, temp_vrf_mem_value, vrf_mem_value)
+  
+  printf("[checkcachecounterfuncs] wb_ctrl.mem %b wb_ctrl.vec %b io.dmem.resp.valid %b io.dmem.resp.bits.addr %x return_addr %x extracted_bits %x cnt_cache %d offset %d (%d) vrf_offset %d tempvrf %x vrf %x\n",wb_ctrl.mem,wb_ctrl.vec,io.dmem.resp.valid,io.dmem.resp.bits.addr, io.dmem.resp.bits.return_addr, extracted_bits, cnt_cache, offset_bit_extraction, io.dmem.resp.bits.return_addr(4,0) * UInt(8),offset_vrf_reg, temp_vrf_mem_value, vrf_mem_value)
 
 }
 
@@ -1015,9 +1018,10 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
   printf("[checkcachecounter]writeintovectoregfile stride %d vrf_wdata %x [g %x u %x] vwb_wen %b [g %b u %b] wb_waddr %d reg_dmem_resp_valid %b [iodmemrespv %b data %x] [dmemrespvalid %b iodmem %b] cnt_cache %d reg_cnt_cache %d vrf_mem_value %x v_wb_reg_wdata %x \n", stride_vld, vrf_wdata, vrf_wdata_gather, vrf_wdata_unit_stride, vwb_wen, vwb_wen_gather, vwb_wen_unit_stride, wb_waddr, reg_dmem_resp_valid,  io.dmem.resp.valid,io.dmem.resp.bits.DcacheCpu_data(255, 0),dmem_resp_valid, io.dmem.resp.valid,  cnt_cache, reg_cnt_cache, vrf_mem_value, v_wb_reg_wdata)
-  printf("[checkcachecounter] v_alu_out %x %x %x %x ||||||||||||(cond g %b us %b stride %b)==>to write into vregfile\n", v_alu_out, v_mem_reg_wdata, v_mem_int_wdata, v_wb_reg_wdata, reg_dmem_resp_valid && (reg_cnt_cache === number_of_elements - UInt(1)), io.dmem.resp.valid, (stride_vld === UInt(1) && !wb_ctrl.scatter_gather))
+  
+     printf("[checkcachecounter] v_alu_out %x %x %x %x ||||||||||||(cond g %b us %b stride %b)==>to write into vregfile\n", v_alu_out, v_mem_reg_wdata, v_mem_int_wdata, v_wb_reg_wdata, reg_dmem_resp_valid && (reg_cnt_cache === number_of_elements - UInt(1)), io.dmem.resp.valid, (stride_vld === UInt(1) && !wb_ctrl.scatter_gather))
       
     }
 
@@ -1109,12 +1113,12 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 
   ////////////////////////////////////////////////////////////////////////////VLD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
   val ctrl_stalld_cond_vld = Wire(Bool())
-  when (mem_reg_flush_pipe && !ex_reg_flush_pipe ){
+  when ((mem_reg_flush_pipe && !ex_reg_flush_pipe)  || take_pc  || id_xcpt || ex_xcpt || mem_ldst_xcpt || mem_xcpt || wb_xcpt){
     ctrl_stalld_cond_vld := Bool(false)
     locks_vld := Bool(false)
   }.otherwise{
 
-    when (stride_vsd === UInt(1) || ex_ctrl.vec_scalar){
+    when (stride_vld === UInt(1) || ex_ctrl.vec_scalar){
       ctrl_stalld_cond_vld := ex_ctrl.vec && ex_ctrl.mem && ex_ctrl.wxd && ex_reg_valid
     }.otherwise{
       ctrl_stalld_cond_vld := Mux(cnt_cache === UInt(0), ex_ctrl.vec && ex_ctrl.mem && ex_ctrl.wxd && (cnt_cache =/= number_of_elements - UInt(1)) && ex_reg_valid, ex_ctrl.vec && ex_ctrl.mem && (cnt_cache =/= number_of_elements - UInt(1)))
@@ -1140,30 +1144,44 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
    ////////////////////////////////////////////////////////////////////////////VSD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
   val ctrl_stalld_cond_vsd = Wire(Bool())
 
-  when (mem_reg_flush_pipe){
+  when (mem_reg_flush_pipe || take_pc  || id_xcpt || ex_xcpt || mem_ldst_xcpt || mem_xcpt || wb_xcpt){
     ctrl_stalld_cond_vsd := Bool(false)
     locks_vsd := Bool(false)
+      
+    printf("[checkcachecounterfuncs]mem_reg_flush_pipe %b exceptions [%b %b %b %b %b] number_of_elements %x\n", mem_reg_flush_pipe, id_xcpt, ex_xcpt, mem_ldst_xcpt, mem_xcpt, wb_xcpt, number_of_elements)
   }.otherwise{
     when (stride_vsd === UInt(1)){
       ctrl_stalld_cond_vsd := ex_ctrl.vec && ex_ctrl.mem && !ex_ctrl.wxd && ex_reg_valid
+        
+      printf("[checkcachecounterfuncs]stride1 [%b %b %b %b] %b exceptions [%b %b %b %b %b] number_of_elements %x\n", ex_ctrl.vec, ex_ctrl.mem, !ex_ctrl.wxd, ex_reg_valid, mem_reg_flush_pipe, id_xcpt, ex_xcpt, mem_ldst_xcpt, mem_xcpt, wb_xcpt, number_of_elements)
     }.otherwise{
       ctrl_stalld_cond_vsd := Mux(cnt_cache_vsd === UInt(0), ex_ctrl.vec && ex_ctrl.mem && !ex_ctrl.wxd && (cnt_cache_vsd =/= number_of_elements - UInt(1)) && ex_reg_valid, ex_ctrl.vec && ex_ctrl.mem && (cnt_cache_vsd =/= number_of_elements - UInt(1)))
+        
+      printf("[checkcachecounterfuncs] otherwise [%b %b %x %x] cnt_cache %x mem_reg_flush_pipe %b exceptions [%b %b %b %b %b]\n", ctrl_stalld_cond_vsd, ex_ctrl.vec && ex_ctrl.mem && !ex_ctrl.wxd && (cnt_cache_vsd =/= number_of_elements - UInt(1)) && ex_reg_valid,number_of_elements, cnt_cache_vsd,  mem_reg_flush_pipe, cnt_cache_vsd, id_xcpt, ex_xcpt, mem_ldst_xcpt, mem_xcpt, wb_xcpt)
     }
 
     when (stride_vsd === UInt(1)){
 
       when (ex_reg_valid && ex_ctrl.vec && ex_ctrl.mem && !ex_ctrl.wxd && !take_pc){
         locks_vsd := Bool(true)
+          
+        printf("[checkcachecounter] in1\n")
       }.elsewhen(/*wb_reg_valid && */  wb_ctrl.vec && wb_ctrl.mem && !wb_ctrl.wxd && io.dmem.resp.valid){//this condition wroks for stride 1
         locks_vsd := Bool(false)
+          
+        printf("[checkcachecounter] in2\n")
       }
 
     }.otherwise{
 
       when (ex_reg_valid && ex_ctrl.vec && ex_ctrl.mem && !ex_ctrl.wxd && cnt_cache_vsd === UInt(0) && !take_pc){
         locks_vsd := Bool(true)
+          
+        printf("[checkcachecounter] in3\n")
       }.elsewhen((cnt_cache_vsd === number_of_elements - UInt(1)) && io.dmem.resp.valid && (io.dmem.resp.bits.return_addr === io.dmem.req.bits.addr)){
         locks_vsd := Bool(false)
+          
+        printf("[checkcachecounter] in4\n")
       }
     }
   }
@@ -1201,11 +1219,14 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
-  printf("[checkcachecounter]^^^^^^^^^^^ctrl_stalld %b  id_exhaz %b  id_memhaz %b id_wbhaz %b id_sboard %b  \n", ctrl_stalld, id_ex_hazard, id_mem_hazard, id_wb_hazard, id_sboard_hazard)
-  printf("[checkcachecounter]^^^^^^^^^^^mem_reg_valid %b && mem_reg_flush_pipe %b ==> %b @ex_pc_valid %b (%b %b %b) [ex_inst %x => mem_inst %x]@ mem_pc_valid %b (%b %b %b) [mem_inst %x => wb_inst %x]@\n", mem_reg_valid, mem_reg_flush_pipe, mem_reg_valid && mem_reg_flush_pipe, ex_pc_valid, ex_reg_valid, ex_reg_replay, ex_reg_xcpt_interrupt, ex_reg_inst, mem_reg_inst, mem_pc_valid, mem_reg_valid, mem_reg_replay, mem_reg_xcpt_interrupt, mem_reg_inst, wb_reg_inst)
-  printf("[checkcachecounter]^^^^^^^^^^^exregflush %b [%b %b] memregflushpip %b ctrl_killd %b ctrl_killx %b ctrl_killm %b exregecptinterrupt %b [%b %b %b] memregxcptinterruprt %b [%b %b]\n", ex_reg_flush_pipe,id_ctrl.fence_i, id_csr_flush, mem_reg_flush_pipe, ctrl_killd, ctrl_killx, ctrl_killm, ex_reg_xcpt_interrupt, !take_pc, ibuf.io.inst(0).valid, csr.io.interrupt,mem_reg_xcpt_interrupt, !take_pc_mem_wb, ex_reg_xcpt_interrupt) 
-  printf("[checkcachecounter] stall_vec_exe %b = Mux(number_of_elements > UInt(8) %b, id_ctrl.vec %b && !vector_unit.io.req.ready %b || vector_unit.io.req.valid %b, ex_ctrl.vec %b && !vector_unit.io.req.ready %b \n", stall_vec_exe, number_of_elements > UInt(8), id_ctrl.vec, !vector_unit.io.req.ready, vector_unit.io.req.valid, ex_ctrl.vec, !vector_unit.io.req.ready)
+  
+  printf("[checkcachecounterfuncs]^^^^^^^^^^^ctrl_stalld %b  id_exhaz %b  id_memhaz %b id_wbhaz %b id_sboard %b  \n", ctrl_stalld, id_ex_hazard, id_mem_hazard, id_wb_hazard, id_sboard_hazard)
+  
+     printf("[checkcachecounterfuncs]^^^^^^^^^^^mem_reg_valid %b && mem_reg_flush_pipe %b ==> %b @ex_pc_valid %b (%b %b %b) [ex_inst %x => mem_inst %x]@ mem_pc_valid %b (%b %b %b) [mem_inst %x => wb_inst %x]@\n", mem_reg_valid, mem_reg_flush_pipe, mem_reg_valid && mem_reg_flush_pipe, ex_pc_valid, ex_reg_valid, ex_reg_replay, ex_reg_xcpt_interrupt, ex_reg_inst, mem_reg_inst, mem_pc_valid, mem_reg_valid, mem_reg_replay, mem_reg_xcpt_interrupt, mem_reg_inst, wb_reg_inst)
+  
+     printf("[checkcachecounterfuncs]^^^^^^^^^^^exregflush %b [%b %b] memregflushpip %b ctrl_killd %b ctrl_killx %b ctrl_killm %b exregecptinterrupt %b [%b %b %b] memregxcptinterruprt %b [%b %b]\n", ex_reg_flush_pipe,id_ctrl.fence_i, id_csr_flush, mem_reg_flush_pipe, ctrl_killd, ctrl_killx, ctrl_killm, ex_reg_xcpt_interrupt, !take_pc, ibuf.io.inst(0).valid, csr.io.interrupt,mem_reg_xcpt_interrupt, !take_pc_mem_wb, ex_reg_xcpt_interrupt)
+  
+     printf("[checkcachecounter] stall_vec_exe %b = Mux(number_of_elements > UInt(8) %b, id_ctrl.vec %b && !vector_unit.io.req.ready %b || vector_unit.io.req.valid %b, ex_ctrl.vec %b && !vector_unit.io.req.ready %b \n", stall_vec_exe, number_of_elements > UInt(8), id_ctrl.vec, !vector_unit.io.req.ready, vector_unit.io.req.valid, ex_ctrl.vec, !vector_unit.io.req.ready)
   
 }
 //printf("[checkcachecounter]^^^^^^^^^^^ctrl_stalld %b  id_exhaz %b  id_memhaz %b id_wbhaz %b id_sboard %b  \n", ctrl_stalld, id_ex_hazard, id_mem_hazard, id_wb_hazard, id_sboard_hazard)
@@ -1289,7 +1310,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 // when(id_inst(0) === "h0005c58b".U || ex_reg_inst ===  "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
     printf("[checkcachecounter]constatnstride vld cnt_cache %d offset %d elementwidth %d \n", cnt_cache,offset, elements_width)
   }
 
@@ -1306,7 +1327,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 //when(id_inst(0) === "h0005c58b".U || ex_reg_inst ===  "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0007c58b".U || ex_reg_inst === "h0007c58b".U || mem_reg_inst === "h0007c58b".U || wb_reg_inst === "h0007c58b".U || id_inst(0) === "h0008560b".U || ex_reg_inst === "h0008560b".U || mem_reg_inst === "h0008560b".U || wb_reg_inst === "h0008560b".U || id_inst(0) === "h2407d00b".U || ex_reg_inst === "h2407d00b".U || mem_reg_inst === "h2407d00b".U || wb_reg_inst === "h2407d00b".U || id_inst(0) === "h0007c58b".U || ex_reg_inst === "h0007c58b".U || mem_reg_inst === "h0007c58b".U || wb_reg_inst === "h0007c58b".U || ibuf.io.pc === "h6b6da".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
     printf("[checkcachecounter]scatter vld stride_cnt %d offset %d cnt_cache %d \n", stride_cnt, offset, cnt_cache)
     }
   }
@@ -1328,7 +1349,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 //   when( id_inst(0) === "h0005c58b".U || ex_reg_inst ===  "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
     printf("[checkcachecounter]constatnstride vsd cnt_cache %d offset %d elementwidth %d \n", cnt_cache_vsd,offset_vsd, elements_width)
      }
   }.otherwise{
@@ -1345,7 +1366,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 // when(id_inst(0) === "h0005c58b".U || ex_reg_inst ===  "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
     printf("[checkcachecounter]gather vsd stride_cnt %d offset %d cnt_cache %d\n", stride_cnt, offset_vsd, cnt_cache_vsd)
 
  }
@@ -1362,7 +1383,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 // when(id_inst(0) === "h0005c58b".U || ex_reg_inst ===  "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U ||id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
+  
   printf("[checkcachecounter]%%%%%% offset_vld %d offset_vsd %d cacheaccesstype %b cnt_cache_vsd %d caches1validvalue %b stride [vsd %d vld %d] ctrlstalldcond %b locks %b ctrl_stalld %b s1_data %x [v %x s %x] ex_vrs(1) %x \n",offset, offset_vsd, io.dmem.req.bits.vector_cache_access_type ,cnt_cache_vsd, cache_s1_valid_value_vsd, stride_vsd,stride_vld, ctrl_stalld_cond_vsd, locks_vsd, ctrl_stalld,io.dmem.DcacheCpu_s1_data.data, v_mem_reg_rs2, mem_reg_rs2, ex_vrs(1))
 
   }
@@ -1442,14 +1463,14 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
 // when(id_inst(0) === "h0005c58b".U || ex_reg_inst ===  "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00959073".U || ex_reg_inst === "h00959073".U || mem_reg_inst === "h00959073".U || wb_reg_inst === "h00959073".U || id_inst(0) === "h000c558b".U || ex_reg_inst === "h000c558b".U || mem_reg_inst === "h000c558b".U || wb_reg_inst === "h000c558b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h72f7126b".U || ex_reg_inst === "h72f7126b".U || mem_reg_inst === "h72f7126b".U || wb_reg_inst === "h72f7126b".U || id_inst(0) === "h26bb500b".U || ex_reg_inst === "h26bb500b".U || mem_reg_inst === "h26bb500b".U || wb_reg_inst === "h26bb500b".U || id_inst(0) === "h0009c70b".U || ex_reg_inst === "h0009c70b".U || mem_reg_inst === "h0009c70b".U || wb_reg_inst === "h0009c70b".U || id_inst(0) === "h0009c78b".U || ex_reg_inst === "h0009c78b".U || mem_reg_inst === "h0009c78b".U || wb_reg_inst === "h0009c78b".U || id_inst(0) === "h80f75257".U || ex_reg_inst === "h80f75257".U || mem_reg_inst === "h80f75257".U || wb_reg_inst === "h80f75257".U || id_inst(0) === "h240bd00b".U || ex_reg_inst === "h240bd00b".U || mem_reg_inst === "h240bd00b".U || wb_reg_inst === "h240bd00b".U ){
    when(id_inst(0) === "h00879073".U || ex_reg_inst ===  "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h000fc58b".U || ex_reg_inst === "h000fc58b".U || mem_reg_inst === "h000fc58b".U || wb_reg_inst === "h000fc58b".U || id_inst(0) === "h0007560b".U || ex_reg_inst === "h0007560b".U || mem_reg_inst === "h0007560b".U || wb_reg_inst === "h0007560b".U || id_inst(0) === "h0006d68b".U || ex_reg_inst === "h0006d68b".U || mem_reg_inst === "h0006d68b".U || wb_reg_inst === "h0006d68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005560b".U || ex_reg_inst === "h0005560b".U || mem_reg_inst === "h0005560b".U || wb_reg_inst === "h0005560b".U || id_inst(0) === "h000ed68b".U || ex_reg_inst === "h000ed68b".U || mem_reg_inst === "h000ed68b".U || wb_reg_inst === "h000ed68b".U || id_inst(0) === "h02d9570b".U || ex_reg_inst === "h02d9570b".U || mem_reg_inst === "h02d9570b".U || wb_reg_inst === "h02d9570b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h76d9500b".U || ex_reg_inst === "h76d9500b".U || mem_reg_inst === "h76d9500b".U || wb_reg_inst === "h76d9500b".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h00879073".U || ex_reg_inst === "h00879073".U || mem_reg_inst === "h00879073".U || wb_reg_inst === "h00879073".U || id_inst(0) === "h00979073".U || ex_reg_inst === "h00979073".U || mem_reg_inst === "h00979073".U || wb_reg_inst === "h00979073".U || id_inst(0) === "h0005c58b".U || ex_reg_inst === "h0005c58b".U || mem_reg_inst === "h0005c58b".U || wb_reg_inst === "h0005c58b".U || id_inst(0) === "h0006d70b".U || ex_reg_inst === "h0006d70b".U || mem_reg_inst === "h0006d70b".U || wb_reg_inst === "h0006d70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h7406d00b".U || ex_reg_inst === "h7406d00b".U || mem_reg_inst === "h7406d00b".U || wb_reg_inst === "h7406d00b".U || id_inst(0) === "h0007d60b".U || ex_reg_inst === "h0007d60b".U || mem_reg_inst === "h0007d60b".U || wb_reg_inst === "h0007d60b".U || id_inst(0) === "h000ed70b".U || ex_reg_inst === "h000ed70b".U || mem_reg_inst === "h000ed70b".U || wb_reg_inst === "h000ed70b".U || id_inst(0) === "h72c5976b".U || ex_reg_inst === "h72c5976b".U || mem_reg_inst === "h72c5976b".U || wb_reg_inst === "h72c5976b".U || id_inst(0) === "h740ed00b".U || ex_reg_inst === "h740ed00b".U || mem_reg_inst === "h740ed00b".U || wb_reg_inst === "h740ed00b".U ){
 
-
-  printf("[checkcachecounter] ctrl_stalld %b [%b %b %b %b %b %b %b %b %b %b %b] vld[ctrl_stalled_cond %b locks %b] vsd[ctrl_stalled_cond %b locks %b] ex_ctrl.vec %b ex_ctrl.mem %b ex_reg_valid %b cnt_cache != 7 %b cnt_cache %d s1_data %x\n",ctrl_stalld,id_ex_hazard || id_mem_hazard || id_wb_hazard || id_sboard_hazard, csr.io.singleStep && (ex_reg_valid || mem_reg_valid || wb_reg_valid),id_ctrl.fp && id_stall_fpu,   id_ctrl.mem && dcache_blocked,id_ctrl.rocc && rocc_blocked, id_ctrl.div && (!(div.io.req.ready || (div.io.resp.valid && !wb_wxd)) || div.io.req.valid), stall_vec_exe, id_do_fence, csr.io.csr_stall, ctrl_stalld_cond_vld || locks_vld, ctrl_stalld_cond_vsd || locks_vsd, ctrl_stalld_cond_vld, locks_vld, ctrl_stalld_cond_vsd, locks_vsd, ex_ctrl.vec, ex_ctrl.mem,ex_reg_valid, cnt_cache != 7, cnt_cache, io.dmem.DcacheCpu_s1_data.data)
-   
-    printf("[checkcachecounter]id_inst %x (alu_fn %x scatter %b v %b vec %b mem %b)ex %x (alu_fn %x scatter %b v %b vec %b mem %b)mem %x (alu_fn %x scatter %b v %b vec %b mem %b)wb %x vwb_wen %b vrf_mem_value %x \n", id_inst(0),ex_ctrl.alu_fn, ex_ctrl.scatter_gather, ex_reg_valid, ex_ctrl.vec, ex_ctrl.mem,  ex_reg_inst,mem_ctrl.alu_fn,mem_ctrl.scatter_gather, mem_reg_valid, mem_ctrl.vec,mem_ctrl.mem, mem_reg_inst,wb_ctrl.alu_fn,wb_ctrl.scatter_gather, wb_reg_valid, wb_ctrl.vec, wb_ctrl.mem, wb_reg_inst,vwb_wen,vrf_mem_value)
   
- }
+  printf("[checkcachecounterfuncs] ctrl_stalld %b [%b %b %b %b %b %b %b %b %b %b %b] vld[ctrl_stalled_cond %b locks %b] vsd[ctrl_stalled_cond %b locks %b] ex_ctrl.vec %b ex_ctrl.mem %b ex_reg_valid %b cnt_cache != 7 %b cnt_cache %d s1_data %x mem_reg_flush_pipe %b exceptions[%b %b %b %b %b %b]\n",ctrl_stalld,id_ex_hazard || id_mem_hazard || id_wb_hazard || id_sboard_hazard, csr.io.singleStep && (ex_reg_valid || mem_reg_valid || wb_reg_valid),id_ctrl.fp && id_stall_fpu,   id_ctrl.mem && dcache_blocked,id_ctrl.rocc && rocc_blocked, id_ctrl.div && (!(div.io.req.ready || (div.io.resp.valid && !wb_wxd)) || div.io.req.valid), stall_vec_exe, id_do_fence, csr.io.csr_stall, ctrl_stalld_cond_vld || locks_vld, ctrl_stalld_cond_vsd || locks_vsd, ctrl_stalld_cond_vld, locks_vld, ctrl_stalld_cond_vsd, locks_vsd, ex_ctrl.vec, ex_ctrl.mem,ex_reg_valid, cnt_cache != 7, cnt_cache, io.dmem.DcacheCpu_s1_data.data, mem_reg_flush_pipe, take_pc, id_xcpt, ex_xcpt, mem_ldst_xcpt, mem_xcpt, wb_xcpt)
+     
+    printf("[checkcachecounterfuncs]id_inst %x (alu_fn %x scatter %b v %b vec %b mem %b)ex %x (alu_fn %x scatter %b v %b vec %b mem %b)mem %x (alu_fn %x scatter %b v %b vec %b mem %b)wb %x vwb_wen %b vrf_mem_value %x \n", id_inst(0),ex_ctrl.alu_fn, ex_ctrl.scatter_gather, ex_reg_valid, ex_ctrl.vec, ex_ctrl.mem,  ex_reg_inst,mem_ctrl.alu_fn,mem_ctrl.scatter_gather, mem_reg_valid, mem_ctrl.vec,mem_ctrl.mem, mem_reg_inst,wb_ctrl.alu_fn,wb_ctrl.scatter_gather, wb_reg_valid, wb_ctrl.vec, wb_ctrl.mem, wb_reg_inst,vwb_wen,vrf_mem_value)
   
-  printf("[checkcachecounter] ctrl_staldl %b [line0 %b line1 %b] take_pc %b id_inst %x ex %x mem %x wb %x vwb_wen %b vrf_mem_value %x \n",ctrl_stalld, ((ctrl_stalld_cond_vld || locks_vld) && !take_pc),  ((ctrl_stalld_cond_vsd || locks_vsd) && !take_pc), take_pc,  id_inst(0),ex_reg_inst, mem_reg_inst, wb_reg_inst,vwb_wen,vrf_mem_value)
+ }
+    
+  printf("[checkcachecounterfuncs] ctrl_staldl %b [line0 %b line1 %b] take_pc %b [id_inst %x ==> DASM(%x)] [ex %x ==> DASM(%x)] [mem %x ==> DASM(%x)] [wb %x ==> DASM(%x)] vwb_wen %b \n",ctrl_stalld, ((ctrl_stalld_cond_vld || locks_vld) && !take_pc),  ((ctrl_stalld_cond_vsd || locks_vsd) && !take_pc), take_pc,  id_inst(0),id_inst(0),ex_reg_inst,ex_reg_inst, mem_reg_inst,mem_reg_inst, wb_reg_inst,wb_reg_inst,vwb_wen /*,vrf_mem_value*/)
 
   io.dmem.s1_data.data := Mux(mem_ctrl.vec,v_mem_reg_rs2(63,0),(if (fLen == 0) mem_reg_rs2 else Mux(mem_ctrl.fp, Fill((xLen max fLen) / fLen, io.fpu.store_data), mem_reg_rs2)))
 
@@ -1494,7 +1515,7 @@ class Rocket(implicit p: Parameters) extends CoreModule()(p)
     }
   }
   else {
-    /*printf("C%d: %d [%d] pc=[%x] W[r%d=%x][%d] R[r%d=%x] R[r%d=%x] inst=[%x] DASM(%x)\n",
+   /* printf("C%d: %d [%d] pc=[%x] W[r%d=%x][%d] R[r%d=%x] R[r%d=%x] inst=[%x] DASM(%x)\n",
          io.hartid, csr.io.time(31,0), csr.io.trace(0).valid && !csr.io.trace(0).exception,
          csr.io.trace(0).iaddr(vaddrBitsExtended-1, 0),
          Mux(rf_wen && !(wb_set_sboard && wb_wen), rf_waddr, UInt(0)), rf_wdata, rf_wen,
diff --git a/src/main/scala/rocket/Vector_Unit.scala b/src/main/scala/rocket/Vector_Unit.scala
index d3f46efa..85f347a8 100644
--- a/src/main/scala/rocket/Vector_Unit.scala
+++ b/src/main/scala/rocket/Vector_Unit.scala
@@ -38,7 +38,7 @@ class Vector_Unit(implicit p: Parameters) extends CoreModule()(p){
 
    val io = new Vector_UnitIO
    val n: Int = 8
-   val number_of_elements = UInt(16) //io.req.bits.number_of_elements//UInt(8)
+   val number_of_elements = UInt(8)//UInt(16) //io.req.bits.number_of_elements//UInt(8)
    //val required_cycles: Int = number_of_elements / n
   // val s_ready :: s_neg_inputs :: s_mul :: s_div :: s_dummy :: s_neg_output :: s_done_mul :: s_done_div :: Nil = Enum(UInt(), 8)
   //val state = Reg(init=s_ready)
